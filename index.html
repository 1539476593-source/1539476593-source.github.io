<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¹¿å·ç¾é£Ÿåœ°å›¾â€”â€”é…¶æ°¢è„±é…¸æœè‹¹</title>
    <style>
        :root {
            --accent: #c2373b; /* è¦æ±‚çš„çº¢ç‚¹é¢œè‰² */
            --glass: rgba(255, 255, 255, 0.5); /* æé€æ¯›ç»ç’ƒ */
            --font-main: "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: var(--font-main);
            background: #f4f4f4;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
        }

        /* é¡¶éƒ¨æ‚¬æµ®å¯¼èˆª - æè‡´é€šé€ç»ç’ƒæ‹Ÿæ€ï¼ˆæ ¸å¿ƒä¿®æ”¹ï¼šå¼ºåˆ¶ä¸€è¡Œæ˜¾ç¤ºï¼‰ */
        .filter-container {
            position: absolute;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            display: flex;
            gap: 8px; /* ç¼©å°é—´è·ï¼Œé€‚é…ä¸€è¡Œ */
            padding: 8px;
            background: var(--glass);
            backdrop-filter: blur(25px) saturate(180%);
            -webkit-backdrop-filter: blur(25px) saturate(180%);
            border-radius: 50px;
            border: 1px solid rgba(255, 255, 255, 0.4);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
            justify-content: center;
            white-space: nowrap; /* ç¦æ­¢å®¹å™¨å†…æ¢è¡Œ */
            overflow: hidden; /* éšè—æº¢å‡ºï¼ˆå°å±æç«¯æƒ…å†µï¼‰ */
            width: fit-content; /* å®½åº¦è‡ªé€‚åº”å†…å®¹ */
        }

        .filter-btn {
            padding: 10px 20px; /* å¾®è°ƒå†…è¾¹è·ï¼Œå‡å°‘å®½åº¦å ç”¨ */
            border: none;
            border-radius: 30px;
            background: transparent;
            color: #1d1d1f;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            font-size: 14px;
            white-space: nowrap; /* æŒ‰é’®æ–‡å­—ä¸æ¢è¡Œ */
        }

        .filter-btn.active {
            background: var(--accent);
            color: white;
            box-shadow: 0 6px 20px rgba(194, 55, 59, 0.3);
        }

        #mapContainer { width: 100%; height: 100%; }

        /* --- è¦æ±‚çš„ç‚¹ä½åŠ¨ç”»ï¼šæ›´é«˜çº§çš„å¤åˆå±‚æ¬¡ --- */
        .custom-marker {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .marker-core {
            width: 14px;
            height: 14px;
            background: var(--accent);
            border-radius: 50%;
            border: 2px solid #fff;
            box-shadow: 0 0 12px rgba(194, 55, 59, 0.5);
            z-index: 3;
        }

        /* æŸ”å’Œå‘¼å¸æ™• */
        .marker-glow {
            position: absolute;
            width: 24px;
            height: 24px;
            background: var(--accent);
            border-radius: 50%;
            opacity: 0.2;
            animation: breathe 3s ease-in-out infinite;
            z-index: 2;
        }

        /* å¤–å±‚æ‰©æ•£åœˆ */
        .marker-ripple {
            position: absolute;
            width: 14px;
            height: 14px;
            border: 1.5px solid var(--accent);
            border-radius: 50%;
            animation: ripple 3s cubic-bezier(0.24, 0, 0.38, 1) infinite;
            z-index: 1;
        }

        @keyframes breathe {
            0%, 100% { transform: scale(1); opacity: 0.2; }
            50% { transform: scale(1.8); opacity: 0.4; }
        }

        @keyframes ripple {
            0% { transform: scale(1); opacity: 1; }
            80%, 100% { transform: scale(5); opacity: 0; }
        }

        /* --- ä¿¡æ¯çª—å£å¡ç‰‡æ ·å¼ --- */
        .info-card {
            width: 320px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            border-radius: 28px;
            overflow: hidden;
            box-shadow: 0 25px 55px rgba(0,0,0,0.15);
            border: 1px solid rgba(255, 255, 255, 0.5);
            animation: cardFadeIn 0.5s cubic-bezier(0.22, 1, 0.36, 1);
        }

        @keyframes cardFadeIn {
            from { opacity: 0; transform: translateY(30px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        .card-img { width: 100%; height: 160px; object-fit: cover; }
        .card-body { padding: 24px; }
        .card-title { font-size: 22px; font-weight: 700; color: #1d1d1f; margin-bottom: 8px; }
        .card-desc { font-size: 14px; color: #515154; line-height: 1.6; margin-bottom: 15px; }
        .card-footer { display: flex; justify-content: space-between; align-items: center; border-top: 1px solid rgba(0,0,0,0.05); padding-top: 15px; }
        .card-price { font-weight: 700; font-size: 16px; color: #1d1d1f; }

        /* é«˜å¾·ç»„ä»¶æ¸…ç† */
        .amap-info-content { background: none; padding: 0; border: none; box-shadow: none; }
        .amap-info-sharp { display: none; }
        .amap-info-close { color: white !important; font-size: 24px !important; top: 15px !important; right: 15px !important; text-shadow: 0 2px 4px rgba(0,0,0,0.2); }
    </style>
</head>
<body>

    <div class="filter-container">
        <button class="filter-btn active" data-filter="all">å…¨éƒ¨ç¾é£Ÿ</button>
        <button class="filter-btn" data-filter="æ ¡å›­é¤é¥®">æ ¡å›­é¤é¥®</button>
        <button class="filter-btn" data-filter="å¹¿å¼é£å‘³">å¹¿å¼é£å‘³</button>
        <button class="filter-btn" data-filter="æ½®æ±•é£å‘³">æ½®æ±•é£å‘³</button>
        <button class="filter-btn" data-filter="å·æ¹˜ç¾é£Ÿ">å·æ¹˜ç¾é£Ÿ</button>
        <button class="filter-btn" data-filter="ç‰¹è‰²ç¾é£Ÿ">ç‰¹è‰²ç¾é£Ÿ</button>
        <button class="filter-btn" data-filter="å®µå¤œçƒ§çƒ¤">å®µå¤œçƒ§çƒ¤</button>
        <button class="filter-btn" data-filter="è¥¿é¤">è¥¿é¤</button>
        <button class="filter-btn" data-filter="ç”œå“é¥®æ–™">ç”œå“é¥®æ–™</button>
    </div>

    <div id="mapContainer"></div>

    <script type="text/javascript" src="https://webapi.amap.com/maps?v=2.0&key=f6ba69344cecaa9c278e5e4a566066ad"></script>
    <script>
        const map = new AMap.Map('mapContainer', {
            zoom: 16,
            center: [113.3456, 23.1422], // åå—å¸ˆèŒƒå¤§å­¦çŸ³ç‰Œæ ¡åŒºä¸­å¿ƒ
            viewMode: '3D',
            pitch: 40,
            mapStyle: 'amap://styles/whitesmoke'
        });

        // æ›¿æ¢ä¸º8å¤§ç±»åˆ†ç±»çš„å®Œæ•´æ•°æ®ï¼ˆå·²ç§»é™¤é‡å¤æ¡ç›®ï¼‰
        const foodData = [
            { name: "æ¨è®°æ±•å¤´ç‰›è‚‰åº—ï¼ˆé•¿å…´åº—ï¼‰", pos: [113.346821, 23.162547], cat: "æ½®æ±•é£å‘³", desc: "é•¿å…´è·¯çš„è€å­—å·æ½®æ±•ç‰›è‚‰åº—ï¼Œç°åˆ‡é²œç‰›è‚‰çº¹ç†æ¸…æ™°ï¼ŒåŠé¾™å’Œäº”èŠ±è¶¾å£æ„Ÿç»ä½³ï¼Œç‰›éª¨æ±¤åº•æµ“éƒï¼Œé…ä¸Šæ²™èŒ¶é…±å˜å˜å˜å¥½åƒ", img: "https://picui.cn/thumbnails/98d964855f73f78718e2d327952c0d26.png", price: "30ï¿¥/äºº" },
            { name: "æ›œä¸€åŸæ˜Ÿå·´å…‹", pos: [113.345189, 23.160872], cat: "ç”œå“é¥®æ–™", desc: "æ›œä¸€åŸè´­ç‰©ä¸­å¿ƒä¸€æ¥¼çš„æ˜Ÿå·´å…‹ï¼Œç©ºé—´å®½æ•æœ‰è½åœ°çª—ï¼Œç»å…¸æ‹¿é“å’Œæ˜Ÿå†°ä¹æ˜¯æ‹›ç‰Œï¼Œé€‚åˆä¼‘é—²å°æ†©æˆ–åŠå…¬ï¼Œä¸è¶³å°±æ˜¯èˆ’æœçš„åº§ä½å¤ªçŸ®äº†ã€‚", img: "https://qcloud.dpfile.com/pc/cS49urPs5hPaG49C8ytmNy0jmFzkzKvG-1TYrSnmpki4XrhxNDB6h9AEGpfm2Rdl_rmkDar_7uWkREVD3Q9cfjBdApxUyvX0xAZ0By9OkEc.webp", price: "ï¿¥30/äºº" },
            { name: "é¾™å£è¥¿éŸ©ç‰¹å…°", pos: [113.338976, 23.139458], cat: "ç‰¹è‰²ç¾é£Ÿ", desc: "é¾™å£è¥¿è·¯çš„æ­£å®—éŸ©æ–™åº—ï¼Œéƒ¨é˜Ÿç«é”…ç”¨æ–™ä¸°å¯Œï¼ŒçŸ³é”…æ‹Œé¥­å’Œè¾£ç‚’å¹´ç³•å£å‘³åœ°é“ï¼Œæ€§ä»·æ¯”é«˜ï¼Œæ·±å—å­¦ç”Ÿå’Œç™½é¢†å–œçˆ±ã€‚", img: "https://qcloud.dpfile.com/pc/JNfJOxDGBUn01bFpvRDzvxjLxP-VaKZt3E69bXSH9WENVeMRrcfTAV4GTzFPwnWA_rmkDar_7uWkREVD3Q9cfjBdApxUyvX0xAZ0By9OkEc.webp", price: "ï¿¥30/äºº" },
            { name: "åå¸ˆæ²å›­ç¾é£Ÿ", pos: [113.353808, 23.139183], cat: "æ ¡å›­é¤é¥®", desc: "åå¸ˆä¸‰å¤§é£Ÿå ‚ä¹‹ä¸€ï¼ŒäºŒæ¥¼é±¼çš®æ°´é¥ºé¢å’Œè‡ªé€‰èœæ·±å—å­¦å­å–œçˆ±ï¼Œæ‰¿è½½æ— æ•°åå¸ˆäººå›å¿†ï¼ŒäºŒæ¥¼çš„éº»è¾£é¦™é”…å¾ˆä¸èµ–ï¼ˆçƒ§çƒ¤å‘³ï¼‰ï¼ŒçŒªè‚šé¸¡ä¹Ÿè¡Œã€‚", img: "https://qcloud.dpfile.com/pc/KxOVoyLi6bB-iFXk6T3EnzzSIUUjsH2gQtRlsSfELiVDywS65CbY20H4fuiRFG3u_rmkDar_7uWkREVD3Q9cfjBdApxUyvX0xAZ0By9OkEc.webp", price: "ï¿¥15/äºº" },
            { name: "åå¸ˆé™¶å›­ç¾é£Ÿ", pos: [113.351495, 23.138544], cat: "æ ¡å›­é¤é¥®", desc: "1994å¹´æŠ•å…¥è¿è¥ï¼Œä¸¤å±‚æ¥¼ä¾›åº”æ—©åˆæ™šé¤åŠå®µå¤œï¼Œæœ‰å¤§ä¼—å¿«é¤ã€çƒ§è…Šï¼ŒäºŒæ¥¼è¥¿åŒ—å¾ˆæœ‰ç‰¹è‰²ï¼Œå¦ä¸€åŠé¤å…çš„èœå“éƒ½è›®å¥½åƒçš„æ¯”è¾ƒæ¨èã€‚", img: "https://qcloud.dpfile.com/pc/_En2tWcB4yaiqVtT1krVdYPQFTEV7cJcfa5v2a5HXxmeIpK-Wq1Q0jar5EBmPSqY_rmkDar_7uWkREVD3Q9cfjBdApxUyvX0xAZ0By9OkEc.webp", price: "ï¿¥13-100/äºº" },
            { name: "åå†œç»¿æ¦•å›­ç¾é£Ÿ", pos: [113.354986, 23.156229], cat: "æ ¡å›­é¤é¥®", desc: "ä½äºä¸‰è§’å¸‚å¯¹é¢æ ¡åŒ»é™¢æ—ï¼Œä¸€æ¥¼èŠå£«ç„—é¥­ä¼šæ‹‰ä¸ï¼ŒäºŒæ¥¼çŸ³é”…æ‹Œé¥­å’Œé‡åº†å°é¢äººæ°”é«˜ï¼Œäº”æ¥¼å¤©å°å¯å›´ç‚‰ç…®èŒ¶ï¼Œæ²¡è¸©è¿‡é›·ï¼Œå¦å¤–ä¸€æ¥¼çš„å†°æµ†å¾ˆç‰¹åˆ«ï¼Œå¾ˆå¥½å–å•Šï¼ç‰¹åˆ«æ¨èè¿™ä¸ªå†°å¥–ï¼Œå¯¹äº†ä¸€æ¥¼é¢åŒ…åº—ä¹Ÿä¸èµ–ï¼Œé¥­åå†ä¹°ç“¶è“è“å‘³çš„æµ“ç¨ é…¸å¥¶çœŸæ˜¯æƒ¬æ„ï¼", img: "https://qcloud.dpfile.com/pc/KpzfypjrGewvTqYoFp1mt3R2_bUYf3JykssCyyHCW_SIPqIGakIbv71pwA7GPM57_rmkDar_7uWkREVD3Q9cfjBdApxUyvX0xAZ0By9OkEc.webp", price: "ï¿¥25/äºº" },
            { name: "é¹­æ±Ÿç«™å½©ç‚¹", pos: [113.293654, 23.086782], cat: "å¹¿å¼é£å‘³", desc: "é¹­æ±Ÿç«™Då£æ—ç¾ŠåŸç§€äºŒæ¥¼çš„è€å­—å·èŒ¶æ¥¼ï¼Œç‚¹å¿ƒå…¨å¤©å€™æ‰“æŠ˜ï¼Œæ—©èŒ¶6.8æŠ˜ã€åˆèŒ¶8.5æŠ˜ã€æ™šèŒ¶5æŠ˜ï¼ŒèŠ‹æ³¥é¤åŒ…å¾ˆé…¥å¾ˆé…¥ï¼Œå¸ƒä¸æ›´æ˜¯å‰æ— å¤äººåæ— æ¥è€…ï¼Œè™¾é¥ºä¹Ÿå¾ˆæ–°é²œï¼Œå¸¸å»çš„ä¸€å®¶åº—ï¼Œæ¨èæ¨èã€‚", img: "https://picui.cn/thumbnails/cfe2a0d478b3583ef7ed848619463dab.png", price: "ï¿¥40/äºº" },
            { name: "ç±å‹å’–å•¡", pos: [113.341747, 23.137875], cat: "ç”œå“é¥®æ–™", desc: "é¾™å£ä¸œè·¯å‡¯ç§‘æ¦•åˆé™¢å†…çš„å°ä¼—å’–å•¡åº—ï¼Œç¯å¢ƒå®‰é™é€‚åˆåŠå…¬ï¼Œå’–å•¡ç‰¹åˆ«ç‰¹åˆ«é¦™é†‡ï¼Œå–œæ¬¢é çª—åï¼Œæ’åº§å……è¶³ï¼Œä½ç½®ä¹Ÿå¤Ÿï¼Œå¶å°”è¿˜æœ‰å“ˆå‰ç±³å‡ºæ²¡ï¼Œæ¯ä¸ªæœŸæœ«å‘¨éƒ½è¦å»å˜¿å˜¿ã€‚", img: "https://picui.cn/thumbnails/14c01cd4b841ed2702b60f937ea0201e.png", price: "ï¿¥25/äºº" },
            { name: "æ­£ä½³å¹¿åœºèµ¤å‚ä¸€ä¸", pos: [113.327019, 23.132145], cat: "å®µå¤œçƒ§çƒ¤", desc: "å¤ªå¥½åƒäº†ï¼Œéš”ä¸€æ®µæ—¶é—´å°±è¦å»ä¸€æ¬¡ï¼Œä¸ç„¶æ„Ÿè§‰æœ‰ç‚¹é£Ÿæ¬²ä¸æŒ¯ï¼Œé¥­åå†ä¸ŠäºŒæ¥¼ä¹°ä¸ªDQå†°æ·‡æ·‹çœŸæ˜¯å¿«å“‰å¿«å“‰ã€‚", img: "https://picui.cn/thumbnails/7c911229c0c6f6719508ce9d6cc409f4.png", price: "ï¿¥80/äºº" },
            { name: "å¤©å¨±å¹¿åœºæ»¨å¯¿å¸", pos: [113.339996, 23.135703], cat: "ç‰¹è‰²ç¾é£Ÿ", desc: "æˆ‘è§‰å¾—æ¯”å¯¿å¸éƒæ›´å¥½åƒï¼Œè‡³å°‘æŠ¹èŒ¶ç²‰æ¯”å¯¿å¸æœ—çš„å¼ºï¼Œä¸Šèœé£å¿«ï¼Œå°±æ˜¯å¸¸å¹´æ’é˜Ÿï¼Œä¸‹åˆ4ç‚¹æ²¡åˆ°å°±åªèƒ½æ’é˜Ÿã€‚", img: "https://img.meituan.net/content/686f2a7a43f2ffa98089c8961426baff116214.jpg%40750w_1e_1l%7Cwatermark%3D0.webp", price: "ï¿¥45/äºº" },
            { name: "å²—é¡¶å¤©å®é£ŸåŠ", pos: [113.336690, 23.133331], cat: "å¹¿å¼é£å‘³", desc: "å¤ªå¥½åƒäº†ï¼Œå¾ˆæœ‰é”…æ°”ï¼Œå•«å•«ç…²è´¼é¦™ï¼Œç”Ÿèšä¹Ÿå¾ˆå¤§ï¼Œä»½é‡éƒ½ä¸é”™ï¼Œåœ¨äºŒæ¥¼çš„èšå•«å¤§æ’æ¡£ï¼Œç”Ÿå•«é‡‘è¾¹èŠ±é³å’Œç‰›ç‚’ç‰›æ²³ï¼ˆä¸¤ä¸ªäººåƒä¸å®Œï¼‰æ˜¯æ‹›ç‰Œï¼Œè¥ä¸šè‡³å‡Œæ™¨6ç‚¹ã€‚", img: "https://s41.ax1x.com/2025/12/31/pZNsJ9P.jpg", price: "ï¿¥90/äºº" },
            { name: "chatchatTå’–å•¡", pos: [113.330474, 23.117965], cat: "ç”œå“é¥®æ–™", desc: "çŒå¾·ç«™Aå£æ—ä¼˜æ‰˜é‚¦è¥¿ç¿¼çš„å’–å•¡ä¹¦åº—ï¼Œç¯å¢ƒæ˜äº®æ·¡é›…æœ‰å›¾ä¹¦å¢™ï¼ŒèŒ‰è‰å†·èƒå’ŒèŠ’æœå·å£ç¢‘å¥½ï¼Œé€‚åˆå­¦ä¹ åŠå…¬å’Œæœ‹å‹å°èšï¼Œä¸»è¦æ˜¯æ’åº§æ¯”è¾ƒå……è¶³å§ï¼Œå‘³é“ä¸é”™ï¼Œå‘¨æœ«äººç•¥å¤šï¼Œè¦å¸¦è€³æœºï¼ˆäºŒæ¥¼æ¶å­é¼“åµï¼‰ã€‚", img: "https://images.unsplash.com/photo-1517256064527-09c73fc73e38?w=600", price: "ï¿¥30/äºº" },
            { name: "å…­è¿å°åŒºæ¦†æ„ç³–æ°´", pos: [113.326600, 23.130116], cat: "ç”œå“é¥®æ–™", desc: "å…­è¿ä¸‰è¡—çš„åœ°é“ç³–æ°´é“ºï¼Œæµ·å—æ¸…è¡¥å‡‰æ–™è¶³æ¤°é¦™æµ“éƒï¼ŒèŠ’æœå°ä¸¸å­å’ŒèŠ‹åœ†ç”œå“æ¸…ç”œä¸è…»ï¼ŒèŠéº»ç³Šå¾ˆæ·³ï¼ŒæŠ¹èŒ¶ä¹Ÿå¾ˆç¾å‘³ï¼Œæ˜¯é¥­åç”œå“çš„ç»ä½³é€‰æ‹©ã€‚", img: "https://picui.cn/thumbnails/fb055893caadcd1819b2767132ad71b9.png", price: "ï¿¥20/äºº" },
            { name: "å…­è¿å°åŒºä½•å°ä¸œé¢é¦†", pos: [113.324699, 23.128496], cat: "ç‰¹è‰²ç¾é£Ÿ", desc: "â­â­è¿™æ˜¯æˆ‘ä»¬ç¬¬ä¸€æ¬¡çº¦é¥­å»çš„åœ°æ–¹ï¼Œå…¶å®å¹¶æ²¡æœ‰ç‰¹åˆ«æƒŠè‰³å¥½åƒï¼Œé¢åšçš„è¿˜ä¸èµ–ï¼ŒåŠ²é“åè¶³ï¼Œé¦™è¾£ç‚’é¸¡é¢å’Œæ²™èŒ¶ç‰›è…©æé¢æ˜¯æ‹›ç‰Œï¼Œè¾£åº¦æˆ‘ä»¬ä¸¤æ¯”è¾ƒéš¾æ¥å—ï¼Œä¸ç®¡æ€ä¹ˆæ ·æˆ‘å¸Œæœ›è¿™å®¶åº—èƒ½ç”Ÿæ„å…´éš†ã€‚", img: "https://s41.ax1x.com/2025/12/31/pZNsBAs.png", price: "ï¿¥35/äºº" },
            { name: "å¤©æ²³æ–°å¤©åœ°å•«çˆ·å•«å•«ç…²", pos: [113.344353, 23.172073], cat: "å¹¿å¼é£å‘³", desc: "å¤©æ²³å®¢è¿ç«™Då£æ—å¤©æ²³æ–°å¤©åœ°5æ¥¼ï¼Œå¤§å¨æœ‰22å¹´ç²¤èœç»éªŒï¼Œå’¸è›‹é»„å•«é¸¡ç¿…ï¼ˆèµğŸ‘ï¼‰å’Œç‰›è…©å•«è‚ ç²‰é”…æ°”åè¶³ï¼Œé•¬æ°”æ»¡æ»¡ã€‚", img: "https://qcloud.dpfile.com/pc/YC-l0Rr27G0-lpeamOBR_i9mK0jHcA44n2dORw0BPVBbkUHr_nGTG1yZABEADaLN_rmkDar_7uWkREVD3Q9cfjBdApxUyvX0xAZ0By9OkEc.webp", price: "ï¿¥55/äºº" },
            { name: "è¥¿é—¨å£æ½®æƒ å±…é¥®é£Ÿåº—", pos: [113.260069, 23.122345], cat: "æ½®æ±•é£å‘³", desc: "è¥¿é—¨å£é™„è¿‘å…‰å¡”è·¯çš„è€å­—å·æ½®èœé¦†ï¼Œæ‹›ç‰Œé²é±¼æé¢é²é±¼åšå®å¼¹ç‰™ï¼Œæ²™èŒ¶ç‰›è…©æé¢å’Œé±¼è›‹ç²‰æ˜¯åœ°é“æ½®æ±•å‘³ï¼Œæ€§ä»·æ¯”é«˜ã€‚", img: "https://s41.ax1x.com/2025/12/31/pZNstc8.jpg", price: "ï¿¥40/äºº" },
            { name: "å²—é¡¶çš„é˜¿å¼ºå®¶èœé¦†", pos: [113.337542, 23.132865], cat: "å·æ¹˜ç¾é£Ÿ", desc: "å²—é¡¶åœ°é“ç«™é™„è¿‘çš„äººæ°”å·èœé¦†ï¼Œæ‹›ç‰Œé…¸èœé±¼åˆ†é‡è¶³ã€é±¼ç‰‡æ»‘å«©ï¼Œæ¯›è¡€æ—ºéº»è¾£é²œé¦™ï¼Œçƒ§è…Šä¹Ÿä¸èµ–ï¼ˆçŒªé¢ˆè‚‰ï¼‰ï¼Œè¿˜é…èŒ¶ç¢—ï¼Œæœ‰ç‚¹å¹¿å¼å…¶å®ï¼Œé¥­ç‚¹å¸¸éœ€æ’é˜Ÿã€‚", img: "https://qcloud.dpfile.com/pc/SUcZIVGo0B2yUFaE1pm0nYaf8XaX4sOil1M3nZz2bnW7MH82OQiVKh15BXJEi9Pq_rmkDar_7uWkREVD3Q9cfjBdApxUyvX0xAZ0By9OkEc.webp", price: "ï¿¥75/äºº" },
            { name: "ç æ±Ÿæ–°åŸå¤§é¾™ç‡šç«é”…", pos: [113.326518, 23.121876], cat: "å·æ¹˜ç¾é£Ÿ", desc: "ç æ±Ÿæ–°åŸçš„è¿é”å·å‘³ç«é”…åº—ï¼Œç‰›æ²¹é”…åº•é†‡åšé¦™æµ“ï¼Œé²œæ¯›è‚šã€é¸­è‚ ä¸ƒä¸Šå…«ä¸‹å£æ„Ÿè„†å«©ï¼Œè£…ä¿®é£æ ¼å¤å¤æœ‰æ ¼è°ƒã€‚", img: "https://s41.ax1x.com/2025/12/31/pZNs8ht.jpg", price: "ï¿¥120/äºº" },
            { name: "æ½®æ±•ä»”ç‰¹è‰²åº—(å¹¿å·æ€»åº—)", pos: [113.325847, 23.168921], cat: "æ½®æ±•é£å‘³", desc: "æ¢…èŠ±å›­å¹¿å·å¤§é“åŒ—çš„æ­£å®—æ½®æ±•é£å‘³æ€»åº—ï¼Œæ‹›ç‰Œå¤é¹…çš®é¦™è‚‰å«©ï¼Œèšä»”çƒ™å¤–é…¥é‡Œå«©èšè‚‰é¥±æ»¡ï¼Œé±¼ä¸¸æ±¤Qå¼¹é²œç”œï¼Œå½é‡Œå‘±å•¦æœ€åç”¨é‡å¤§ç®¡é¥±æ¦‚æ‹¬å§å˜»å˜»ã€‚", img: "https://qcloud.dpfile.com/pc/R50KPiheu76KpQZgTTDce1fRHYCOhxGE8sA7neXvJ1idgiTVYiX_4DrFy-mRcmUgY0q73sB2DyQcgmKUxZFQtw.jpg", price: "ï¿¥35/äºº" },
            { name: "æ‚ æœ¬ç‰›æ’(èŠ±åŸæ±‡åº—)", pos: [113.324568, 23.124789], cat: "è¥¿é¤", desc: "èŠ±åŸæ±‡å—åŒºçš„é«˜å“è´¨ç‰›æ’åº—ï¼ŒåŸåˆ‡ç‰›æ’é²œå«©å¤šæ±ï¼Œé»‘èƒ¡æ¤’é…±æ±æµ“éƒï¼Œæ­é…è‡ªåŠ©æ²™æ‹‰å§å’Œæµ“æ±¤ï¼Œè™½ç„¶æ˜¯ç‰›æ’åº—ä½†æ˜¯è–¯æ¡é¦™å“­äº†ï¼Œé‚£ä¸ªå¯é¢‚é‡Œé¢å¤¹ç€å’¸è›‹é»„é…±ä¹Ÿå¾ˆå¥½åƒã€‚", img: "https://qcloud.dpfile.com/pc/ZCGZHncyq8nAyGRVNqEtLD9Pr_jY5-e2WJv99s4v1_kqeJ1W3CqrJsASlsTeDV6B_rmkDar_7uWkREVD3Q9cfjBdApxUyvX0xAZ0By9OkEc.webp", price: "ï¿¥80/äºº" },
            { name: "åˆå¾·å°å¨çƒ§é¹…ä¹³é¸½(æ°¸åº†åŠåº—)", pos: [113.254876, 23.120345], cat: "å¹¿å¼é£å‘³", desc: "æ°¸åº†åŠå†…çš„äººæ°”ç²¤èœå°é¦†ï¼Œçƒ§é¹…çš®è„†è‚‰å«©ã€å¤æ±é¦™æµ“ï¼Œä¹³é¸½å¤–çš®ç„¦é¦™å†…é‡Œå¤šæ±ï¼Œæ²¡ä»€ä¹ˆè¸©é›·çš„èœï¼Œäººå¾ˆå¤šå¯èƒ½è¦æå‰è®¢ä½ã€‚", img: "https://qcloud.dpfile.com/pc/9A6FrR-_dS74LrVJjpOrO0XgEd18kriQDAw51AgZJuJfWP53SbtQKhkOmX74Alsz_rmkDar_7uWkREVD3Q9cfjBdApxUyvX0xAZ0By9OkEc.webp", price: "ï¿¥80/äºº" },
            { name: "ä»™äººçƒ§çƒ¤(å¦æ»˜åº—)", pos: [113.368921, 23.098765], cat: "å®µå¤œçƒ§çƒ¤", desc: "å¦æ»˜åœ°é“ç«™é™„è¿‘çš„ç½‘çº¢çƒ§çƒ¤åº—ï¼ˆxhsæœ‰å·ï¼‰ï¼Œä¸»æ‰“ä¸œåŒ—é£å‘³çƒ¤ä¸²ï¼Œçƒ¤ç¾Šè‚‰ä¸²è‚¥ç˜¦ç›¸é—´ï¼Œå“ç§å¾ˆä¸°å¯Œï¼Œä»·æ ¼ä¹Ÿåˆé€‚ï¼Œçƒ¤å®è›‹å’Œçƒ¤èš•è›¹æå…·ç‰¹è‰²ï¼ˆä½†æ˜¯æˆ‘æ²¡åƒè¿‡è¿™å‡ ä¸ªhhhï¼‰ã€‚", img: "https://picui.cn/thumbnails/d6c61b7b51ce19e954b9f55ded9a7c2c.png", price: "ï¿¥75/äºº" },
            { name: "æ±Ÿå—è¥¿è·¯èµµè®°ä¼ æ‰¿", pos: [113.286743, 23.115678], cat: "ç”œå“é¥®æ–™", desc: "æ±Ÿå—è¥¿è·¯çš„è¿é”å¹¿å¼ç³–æ°´é“ºï¼Œå§œæ’å¥¶é¦™é†‡é¡ºæ»‘ã€åŒçš®å¥¶å…¥å£å³åŒ–ï¼Œè¿˜æœ‰é¾Ÿè‹“è†ã€èŠ‹åœ†ç­‰ä¼ ç»Ÿç”œå“ï¼Œä»·æ ¼äº²æ°‘ï¼ˆå“ªé‡Œçš„èµµè®°éƒ½å·®ä¸å¤šï¼Œåªæ˜¯æ‹ç…§ç•™çš„æ˜¯è¿™å®¶ï¼‰ã€‚", img: "https://picui.cn/thumbnails/7c2cf70b4955498b3c48a944f5ec0ae3.png", price: "ï¿¥25/äºº" },
            { name: "åŒ—äº¬è·¯å¤§å¤´è™¾", pos: [113.265432, 23.127890], cat: "ç‰¹è‰²ç¾é£Ÿ", desc: "åŒ—äº¬è·¯æ­¥è¡Œè¡—çš„äººæ°”è¶Šå—èœï¼Œæ‹›ç‰Œå¤§å¤´è™¾è‚‰è´¨é¥±æ»¡ã€å’–å–±é¦™æµ“ï¼Œè¶Šå—æ˜¥å·æ¸…çˆ½è§£è…»ï¼Œç¯å¢ƒå……æ»¡ä¸œå—äºšé£æƒ…ï¼Œæˆ‘è¿˜æŒºå–œæ¬¢çš„ï¼Œå°±æ˜¯äººæœ‰ç‚¹å¤šï¼Œå»ºè®®å¤šäººæ¥åƒæ›´åˆ’ç®—ã€‚", img: "https://qcloud.dpfile.com/pc/iL4xuXfltZXqjMk1L-ZXOsbVqsx9THJxaUfyqPAWaa3PyL39RpxAiGdNf72JYJqu_rmkDar_7uWkREVD3Q9cfjBdApxUyvX0xAZ0By9OkEc.webp", price: "ï¿¥80/äºº" },
            { name: "å…­è¿å°åŒºè”èŠ³ä¼ ç»Ÿç³–æ°´é“º", pos: [113.325789, 23.129456], cat: "ç”œå“é¥®æ–™", desc: "å…­è¿å°åŒºå†…çš„è€å­—å·ç³–æ°´é“ºï¼Œä¸“æ³¨ä¼ ç»Ÿå¹¿å¼ç³–æ°´ï¼Œç»¿è±†æ²™ç»µå¯†æ¸…ç”œã€èŠéº»ç³Šé¦™æµ“é¡ºæ»‘ï¼Œæ˜¯è€å¹¿å·çš„å‘³é“ï¼Œå°±æ˜¯æœ‰æ—¶å€™ä¹Ÿè¦æ’é˜Ÿã€‚", img: "https://p0.meituan.net/poiugc/ecff86d280fd4dadf8c253aea0a4c6422780979.png%40750w_1e_1l%7Cwatermark%3D0.webp", price: "ï¿¥20/äºº" },
            { name: "å²—é¡¶æ˜¥å±±å’–å•¡", pos: [113.338214, 23.134567], cat: "ç”œå“é¥®æ–™", desc: "å²—é¡¶é™„è¿‘çš„å°ä¼—ç²¾å“å’–å•¡åº—ï¼Œä¸»æ‰“æ‰‹å†²å’–å•¡ï¼Œè±†å­é£å‘³ç‹¬ç‰¹ï¼Œç¯å¢ƒå®‰é™èˆ’é€‚ï¼Œæ­é…ç°çƒ¤å¸åº·ï¼Œé€‚åˆå­¦ä¹ åŠå…¬ã€‚ï¼ˆä¸è¶³å°±æ˜¯æœ‰è‚¡å‘³é“ï¼Œæ¯”è¾ƒæ˜æš—ï¼‰", img: "https://s41.ax1x.com/2025/12/31/pZNBEff.jpg", price: "ï¿¥35/äºº" }
        ];

        let allMarkers = [];
        const infoWindow = new AMap.InfoWindow({ 
            isCustom: true, 
            offset: new AMap.Pixel(0, -40),
            autoMove: false // å½»åº•ç¦ç”¨è‡ªå¸¦ä½ç§»
        });

        function renderMarkers() {
            foodData.forEach(item => {
                const dom = document.createElement('div');
                dom.className = 'custom-marker';
                dom.innerHTML = `<div class="marker-ripple"></div><div class="marker-glow"></div><div class="marker-core"></div>`;

                const marker = new AMap.Marker({
                    position: item.pos,
                    content: dom,
                    offset: new AMap.Pixel(-25, -25),
                    extData: item
                });

                marker.on('click', () => {
                    const content = `
                        <div class="info-card">
                            <img src="${item.img}" class="card-img">
                            <div class="card-body">
                                <div class="card-title">${item.name}</div>
                                <div class="card-desc">${item.desc}</div>
                                <div class="card-footer">
                                    <div style="color:#ff9f0a">â˜… 4.8</div>
                                    <div class="card-price">${item.price}</div>
                                </div>
                            </div>
                        </div>
                    `;
                    infoWindow.setContent(content);
                    infoWindow.open(map, item.pos);

                    // --- æ ¸å¿ƒé€»è¾‘ï¼šç»å¯¹åƒç´ åç§»å®šä½ ---
                    
                    // 1. è·å–åœ°å›¾å®¹å™¨å°ºå¯¸
                    const container = map.getContainer();
                    const w = container.offsetWidth;
                    const h = container.offsetHeight;

                    // 2. æˆ‘ä»¬çš„ç›®æ ‡ä½ç½®ï¼ˆå±å¹•æ­£ä¸­å¿ƒä¸‹éƒ¨é è¿‘åº•éƒ¨çš„åœ°æ–¹ï¼Œå³ 1/5 å¤„ï¼‰
                    const targetX = w / 2;
                    const targetY = h * 0.8; // 80% çš„é«˜åº¦ä½ç½®ï¼Œå³åº•éƒ¨ 1/5

                    // 3. è·å–ç‚¹å‡»çš„ç‚¹ä½å½“å‰åœ¨å±å¹•ä¸Šçš„å®é™…åƒç´ åæ ‡
                    const currentPixel = map.lngLatToContainer(item.pos);

                    // 4. è®¡ç®—ä¸ºäº†æŠŠç‚¹ç§»åˆ°ç›®æ ‡ä½ç½®ï¼Œåœ°å›¾éœ€è¦å¹³ç§»çš„åƒç´ å·®å€¼
                    // åœ°å›¾å¹³ç§»æ–¹å‘ä¸ç‚¹ä½ç§»åŠ¨æ–¹å‘ç›¸åï¼Œæ‰€ä»¥ç”¨ ç›®æ ‡ - å½“å‰
                    const dx = targetX - currentPixel.x;
                    const dy = targetY - currentPixel.y;

                    // 5. æ‰§è¡Œç²¾å‡†å¹³ç§»
                    map.panBy(dx, dy);
                });

                marker.setMap(map);
                allMarkers.push(marker);
            });
        }

        // ç­›é€‰æŒ‰é’®ï¼ˆé€‚é…æ–°çš„8å¤§ç±»ç­›é€‰é€»è¾‘ï¼‰
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelector('.filter-btn.active').classList.remove('active');
                this.classList.add('active');
                const f = this.dataset.filter;
                allMarkers.forEach(m => {
                    (f === 'all' || m.getExtData().cat === f) ? m.show() : m.hide();
                });
                infoWindow.close();
            });
        });

        map.on('click', () => infoWindow.close());
        renderMarkers();
    </script>
</body>
</html>